% Template Maths LaTeX de léo

% Packages
\usepackage{amsmath,amsfonts,amssymb,amsthm,mathrsfs}
\usepackage{graphicx,graphics}
\usepackage{epsfig}
\usepackage{latexsym} % symbols
\usepackage[english]{babel}
%\usepackage[french]{babel}
\usepackage[utf8]{inputenc}
\usepackage{mathtools}
\usepackage{enumerate}
\usepackage{xcolor}
\usepackage{lmodern}
\usepackage{bm}

%\usepackage[mono=false]{libertine}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%   TEST IF BEAMER   %%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\makeatletter%
\@ifclassloaded{beamer}%
{%
	% Special beamer packages
	%Bilio
	\usepackage[backend=bibtex,natbib=true, bibstyle=authoryear, citestyle=authoryear-comp, maxcitenames=2]{biblatex}
	\defbibheading{bibliography}[\bibname]{}
}%
{%
	% Special article packages
	\usepackage[a4paper,vmargin={2.4cm,2.8cm},hmargin={2.4cm,2.4cm}]{geometry}
	\usepackage[labelfont={bf}, margin=1cm, font = footnotesize]{caption}
	% Hyperrefs
	\usepackage[pdfpagemode=UseNone,bookmarksopen=false,colorlinks=true,urlcolor=blue,citecolor=magenta,citebordercolor=blue,linkcolor=blue]{hyperref}
	\usepackage{bookmark}
	% Biblio
	\usepackage[nottoc, notlof, notlot]{tocbibind}
	% Theorems
	\usepackage{lipsum,etoolbox}
	\usepackage{thmtools}
	\usepackage[bottom]{footmisc}
	\usepackage{prettyref}
	\usepackage{enumitem}
	\usepackage{tikz,tkz-tab}
	\usepackage{float}
	\usepackage{dsfont}
	\usepackage{lettrine}
	\usepackage[symbols,nogroupskip,sort=none]{glossaries-extra}
	\@ifpackagewith{babel}{french}{%
		\declaretheorem[thmbox=L,name=Théorème]{theorem}
		\declaretheorem[name=Proposition,thmbox=M]{proposition}
		\declaretheorem[name=Lemme,thmbox=S]{lemma}
		\declaretheorem[name=Définition,thmbox=M]{definition}
		\declaretheorem[name=Corollaire,thmbox=M]{corollary}
		\declaretheorem[name=Conjecture,thmbox=S]{conjecture}
		\declaretheorem[name=Remarque]{remark}
		% Proofs
		\renewenvironment{proof}[1][\unskip]{\noindent\textbf{Preuve #1.} }{\hfill$\square$}
		}{%
		\declaretheorem[thmbox=L,name=Theorem]{theorem}
		\declaretheorem[name=Proposition,thmbox=M]{proposition}
		\declaretheorem[name=Lemma,thmbox=S]{lemma}
		\declaretheorem[name=Definition,thmbox=M]{definition}
		\declaretheorem[name=Corollary,thmbox=M]{corollary}
		\declaretheorem[name=Conjecture,thmbox=S]{conjecture}
		\declaretheorem[name=Remark]{remark}
		\declaretheorem[name=Example]{example}
		\declaretheorem[name=Claim, thmbox = M]{claim}
		% Proofs
		\usepackage{xparse}
		\renewenvironment{proof}[1][Proof]{\noindent\textbf{%
		#1.\ }\small \fontfamily{lmr}\selectfont }{\qed}
	}
	%Extra space around theorems
	\BeforeBeginEnvironment{theorem}{\vspace{6pt}}
	\AfterEndEnvironment{theorem}{\vspace{6pt}}

	%Thm numbering
	\numberwithin{theorem}{section}
	\numberwithin{proposition}{section}
	\numberwithin{lemma}{section}
	\numberwithin{definition}{section}
	\numberwithin{corollary}{section}
	\numberwithin{conjecture}{section}
	\numberwithin{remark}{section}
	\numberwithin{example}{section}
	\numberwithin{claim}{section}
	\numberwithin{equation}{section}

	%Appendices
	\usepackage{titlesec}
	\makeatletter
	\newcommand{\setappendix}{Appendix~\thesection:~~}
	\newcommand{\setsection}{\thesection~~}
	\titleformat{\section}{\bfseries\LARGE}{%
		\ifnum\pdfstrcmp{\@currenvir}{appendices}=0
			\setappendix
		\else
			\setsection
	\fi}{0em}{}
	\makeatother
	\usepackage[titletoc]{appendix}
}%
\makeatother%
